window.dataLayer = window.dataLayer || [];
function gtag() { dataLayer.push(arguments); }
gtag('js', new Date());

// Skip page hit and send transition-page loaded event to GA.
gtag('config', '<%= gaTrackingId %>', { 'send_page_view': false });
gtag('event', '<%= gaOnLoad %>', {
    'event_category': '<%= gaEventType %>'
});

// Ensures that proceeded event sends at most once.
var proceedIsLogged = false

function proceedToDestination(url) {
    // Logs transition-page proceeded event to GA.
    if (!proceedIsLogged) {
        proceedIsLogged = true
        gtag('event', '<%= gaOnProceed %>', {
            'event_category': '<%= gaEventType %>'
        });
    }
    window.location = url
}

(function() {
    document.getElementById('main-button').addEventListener('click', function (e) {
        proceedToDestination(document.getElementById('main-button').getAttribute('data-href'))
    })
})()